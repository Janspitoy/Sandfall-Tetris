/* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –º–µ–Ω—é */

@import url('_ui.css');


/* 1. –§–æ–Ω –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏ */
#loadingScreen {
    /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à—É –∫–∞—Ä—Ç–∏–Ω–∫—É –∫–∞–∫ —Ñ–æ–Ω */
    background-image: url('../img/splash.png');
    background-size: cover;
    background-position: center center;
    flex-direction: column;
    justify-content: center;
    align-items: center;

}

/* –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–Ω—å –∫ –ª–æ–≥–æ—Ç–∏–ø—É –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –Ω–∞ —Ñ–æ–Ω–µ */
#loadingScreen .logo {
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.6);
}

#loadingScreen .progress-bar-wrapper {
    width: 80%;
    max-width: 400px;
    height: 30px;
    max-height: 30px;
    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    border: 2px solid var(--color-primary);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5), 0 2px 3px rgba(0, 0, 0, 0.3);
    padding: 4px;
    margin-top: 570px !important;
    position: relative; /* –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */

}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∑–∞–≥—Ä—É–∑–∫–∏ */
#loadingScreen .progress-label {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: #ffffff;
    font-size: 16px;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
    z-index: 2; /* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Ç–µ–∫—Å—Ç –ø–æ–≤–µ—Ä—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ */
    pointer-events: none; /* –¢–µ–∫—Å—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –º–µ—à–∞—Ç—å –∫–ª–∏–∫–∞–º */
}

/* _ui.css */

/* –ù–∞–π–¥–∏—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫ */
#loadingScreen .progress-bar {
    height: 100%;
    width: 0%; /* –ù–∞—á–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */

    /* –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç –≤ —Å—Ç–∏–ª–µ –∏–≥—Ä—ã */
    background-color: var(--color-secondary);

    /* "–ü–µ—Å–æ—á–Ω–∞—è" —Ç–µ–∫—Å—Ç—É—Ä–∞ —Å –ø–æ–º–æ—â—å—é –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ */
    background-image: linear-gradient(
        45deg,
        rgba(255,255,255,0.15) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255,255,255,0.15) 50%,
        rgba(255,255,255,0.15) 75%,
        transparent 75%,
        transparent
    );
    background-size: 20px 20px;

    /* üëá –í–û–¢ –≠–¢–£ –°–¢–†–û–ö–£ –ù–£–ñ–ù–û –£–î–ê–õ–ò–¢–¨ */
    transition: width 1.5s cubic-bezier(0.65, 0, 0.35, 1);

    /* –õ–µ–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ, —á—Ç–æ–±—ã –±–∞—Ä –≤—ã–¥–µ–ª—è–ª—Å—è */
    box-shadow: inset 0 -1px 1px rgba(0,0,0,0.3), 0 0 10px rgba(244, 194, 68, 0.7);
}


.screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: rgba(0, 0, 0, 0.8);
    transition: opacity 0.3s ease;
    opacity: 0;
    pointer-events: none;
    z-index: 100;
    background: url('../img/img_1.png') no-repeat center center/cover;
}

.screen.active {
    display: flex;
    opacity: 1;
    pointer-events: all;
    background: url('../img/img_1.png') no-repeat center center/cover;
}

.screen-content {
    width: 90%;
    height: 90%;
    background: var(--color-background-menu);
    padding: clamp(20px, 5vw, 40px);
    border-radius: var(--border-radius-large);
    box-shadow: var(--shadow-light);
    border: 2px solid var(--color-background-dark);
    max-width: 95%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

.progress-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%; /* –®–∏—Ä–∏–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –±–ª–æ–∫–∞ */
    margin: 0 auto 10px auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    color: #fff;
    font-size: 14px;
    font-weight: bold;
    box-sizing: border-box; /* –ß—Ç–æ–±—ã padding –Ω–µ –≤–ª–∏—è–ª –Ω–∞ –æ–±—â—É—é —à–∏—Ä–∏–Ω—É */

}

.progress-bar-wrapper {
    flex-grow: 1;
    height: 25px;
    background-color: #975a34;
    border-radius: 10px;
    margin: 0 10px;
    position: relative; /* –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
    overflow: hidden;
    border: 2px solid rgba(255, 255, 255, 0.2);
    box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
}

.progress-bar {
    width: 0%;
    height: 100%;
    transition: width 0.4s ease-out, background 0.5s ease-in-out;
    border-radius: 8px;
}


.progress-label {
    position: absolute; /* <-- –ì–õ–ê–í–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #e0d0b0;
    font-weight: bold;
    font-size: 14px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}

/* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –º–µ—Ç–æ–∫ –ø–æ –∫—Ä–∞—è–º */
#progress-start, #progress-end {
    width: 50px; /* –ù–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–∏–º —à–∏—Ä–∏–Ω—É –¥–ª—è –æ—Ç—Å—Ç—É–ø–æ–≤ */
    flex-shrink: 0;
    padding: 3px 6px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã (—Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É –∏ –ø–æ –±–æ–∫–∞–º) */
    background-color: rgba(116, 81, 15, 0.5); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
    border-radius: 8px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫—Ä–∞—è */
    border: 1px solid rgba(116, 81, 15, 0.8); /* –¢–æ–Ω–∫–∞—è —Å–≤–µ—Ç–ª–∞—è —Ä–∞–º–∫–∞ */
    box-shadow: 0 1px 3px rgba(0,0,0,0.2); /* –ù–µ–±–æ–ª—å—à–∞—è —Ç–µ–Ω—å */
    color: #e0d0b0;
}

/* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ª–µ–≤—É—é –º–µ—Ç–∫—É –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é */
#progress-start {
    text-align: left;
    padding-left: 20px;
}

/* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø—Ä–∞–≤—É—é –º–µ—Ç–∫—É –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é */
#progress-end {
    text-align: right;
    padding-right: 20px;
}


.logo {
    font-size: clamp(20px, 8vw, 36px);
    font-weight: bold;
    color: var(--color-text-light);
    margin-bottom: 20px;
    margin-top: 20px;
    text-shadow: var(--shadow-light);
    line-height: 1;
}

.logo .sand { color: var(--color-secondary); }
.logo .tetris { color: var(--color-primary); }

.button-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 250px;
}

.action-btn {
    background-color: var(--color-success);
    color: var(--color-text-light);
    border: 2px solid var(--color-background-dark);
    padding: clamp(10px, 3vw, 15px);
    border-radius: var(--border-radius-small);
    font-size: clamp(12px, 3vw, 16px);
    font-weight: bold;
    cursor: pointer;
    transition: all var(--transition-fast);
    box-shadow: var(--shadow-light);
    text-shadow: 1px 1px 0 rgba(0,0,0,0.4);
}

.action-btn:hover {
    background-color: #4dc24d;
    transform: translateY(-1px);
    box-shadow: 3px 3px 0 rgba(0,0,0,0.6);
}

.action-btn:active {
    transform: translateY(1px);
    box-shadow: 1px 1px 0 rgba(0,0,0,0.4);
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ */
.main-menu h3 {
    margin-bottom: 10px;
    font-size: clamp(12px, 5vw, 16px);
    text-shadow: 1px 1px 0 rgba(0,0,0,0.4);
}

.difficulty-options {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 15px;
}

.difficulty-btn {
    background: var(--color-background-dark);
    border: 2px solid var(--color-background-dark);
    color: var(--color-text-light);
    padding: 6px 12px;
    border-radius: var(--border-radius-small);
    font-size: clamp(10px, 2.5vw, 14px);
    cursor: pointer;
    transition: all var(--transition-fast);
    box-shadow: var(--shadow-light);
}

.difficulty-btn.active {
    background: var(--color-secondary);
    border-color: var(--color-secondary);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.6);
    transform: scale(1.05);
    color: var(--color-background-dark);
}

.highscores-list {
    margin-top: 15px;
    width: 100%;
    height: 550px;
    overflow-y: auto;
    border: 2px solid var(--color-background-dark);
    border-radius: var(--border-radius-small);
    background: var(--color-background-dark);
    padding: 8px;
    font-size: clamp(10px, 2.5vw, 14px);
    text-align: left;
    box-shadow: inset 2px 2px 0 rgba(0,0,0,0.3);
}

.highscores-list h3 {
    text-align: center;
    margin-bottom: 5px;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.3);
    color: var(--color-secondary);
}

.highscores-list ol {
    padding-left: 0;
    list-style-position: inside;
}

.highscores-list li {
    margin-bottom: 3px;
    border-bottom: 1px dotted var(--color-text-medium);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 3px;
}

.highscores-list li:last-child {
    border-bottom: none;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –ø–∞—É–∑—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
.pause-screen .screen-content,
.settings-menu .screen-content {
    background: var(--color-background-menu);
    border: 2px solid var(--color-background-dark);
}

.pause-screen h2,
.settings-menu h2 {
    font-size: clamp(20px, 6vw, 32px);
    margin-bottom: 15px;
    text-shadow: var(--shadow-light);
}

.settings-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 15px;
    width: 100%;
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--color-background-dark);
    border: 2px solid var(--color-background-dark);
    padding: 10px 12px;
    border-radius: var(--border-radius-small);
    box-shadow: inset 1px 1px 0 rgba(0,0,0,0.4);
}

.setting-item span {
    font-size: clamp(12px, 3vw, 16px);
}

.toggle-switch {
    width: 40px;
    height: 20px;
    background-color: var(--color-text-medium);
    position: relative;
    border-radius: 24px;
    transition: background-color 0.3s;
    cursor: pointer;
    box-shadow: inset 1px 1px 0 rgba(0,0,0,0.4);
}

.toggle-switch::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 16px;
    height: 16px;
    background-color: var(--color-text-light);
    border-radius: 50%;
    transition: transform 0.3s;
}

.toggle-switch.on {
    background-color: var(--color-success);
}

.toggle-switch.on::before {
    transform: translateX(19px);
}

/* Game Over screen styles */
.game-over {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    border: 2px solid var(--color-background-dark);
    box-shadow: var(--shadow-medium);
    display: none; /* Hidden by default */
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    z-index: 1000; /* Ensure it appears above other elements */
}

/* Show game over screen when 'show' class is added */
.game-over.show {
    display: flex; /* Use flex to match flex-direction */
}

/* Style the game over heading */
.game-over h2 {
    color: var(--color-danger);
    font-size: clamp(16px, 5vw, 28px);
    text-shadow: var(--shadow-light);
    margin-bottom: 0;
}

/* Style the game over paragraph */
.game-over p {
    font-size: clamp(12px, 3vw, 16px);
    margin-bottom: 0;
}

/* Style the action buttons */
.game-over .action-btn {
    background-color: var(--color-primary);
    width: 100%;
    max-width: 250px;
    padding: clamp(12px, 4vw, 18px);
    border-color: var(--color-primary);
}

/* Ensure other elements support the transition */
.controls,
.game-wrapper,
.ui-panel {
    transition: opacity 0.3s ease;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è */
.toggle-btn {
    width: 40px;
    height: 20px;
    background-color: var(--color-text-medium);
    border-radius: 25px;
    position: relative;
    cursor: pointer;
    transition: background-color 0.3s;
    box-shadow: inset 1px 1px 0 rgba(0, 0, 0, 0.4);
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫—Ä—É–≥–∞-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è */
.toggle-circle {
    width: 16px;
    height: 16px;
    background-color: var(--color-text-light);;
    border-radius: 50%;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: left 0.3s;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.toggle-btn.on {
    background-color: #ab200e;
}

/* –ü–æ–ª–æ–∂–µ–Ω–∏–µ –∫—Ä—É–≥–∞ –≤–æ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ */
.toggle-btn.on .toggle-circle {
    left: 22px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –∫–æ–º–±–æ-—Ç–µ–∫—Å—Ç–∞ */
.combo-text {
    position: absolute;
    top: 40%; /* –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.5em; /* –ö—Ä—É–ø–Ω—ã–π —Ä–∞–∑–º–µ—Ä */
    font-weight: bold;
    color: #ffdd59; /* –Ø—Ä–∫–∏–π —Ü–≤–µ—Ç */
    text-shadow:
        -2px -2px 0 #c0392b,
         2px -2px 0 #c0392b,
        -2px  2px 0 #c0392b,
         2px  2px 0 #c0392b,
         -2px 0 0 #c0392b,
         2px 0 0 #c0392b,
         0 2px 0 #c0392b,
         0 -2px 0 #c0392b; /* –≠—Ñ—Ñ–µ–∫—Ç–Ω–∞—è –æ–±–≤–æ–¥–∫–∞ */
    pointer-events: none; /* –ß—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –Ω–µ –º–µ—à–∞–ª –∫–ª–∏–∫–∞–º/–∫–∞—Å–∞–Ω–∏—è–º */
    opacity: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ–≤–∏–¥–∏–º */
    z-index: 100;
}

/* –ö–ª–∞—Å—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ */
.combo-text.animate {
    animation: combo-animation 1.2s ease-out forwards;
}

/* –°–∞–º–∞ –∞–Ω–∏–º–∞—Ü–∏—è: –ø–æ—è–≤–ª–µ–Ω–∏–µ, —É–¥–µ—Ä–∂–∞–Ω–∏–µ, –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ */
@keyframes combo-animation {
    0% {
        opacity: 0;
        transform: translateX(-50%) scale(0.5);
    }
    20% {
        opacity: 1;
        transform: translateX(-50%) scale(1.1); /* –≠—Ñ—Ñ–µ–∫—Ç "–≤—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è" */
    }
    40% {
        transform: translateX(-50%) scale(1.0); /* –í–æ–∑–≤—Ä–∞—Ç –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É */
    }
    80% {
        opacity: 1;
        transform: translateX(-50%) scale(1.0);
    }
    100% {
        opacity: 0;
        transform: translateX(-50%) scale(1.0) translateY(-20px); /* –ò—Å—á–µ–∑–∞–µ—Ç, —É–ª–µ—Ç–∞—è –≤–≤–µ—Ä—Ö */
    }
}